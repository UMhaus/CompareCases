////////////////////////////////////////////////////////////////////////////////
//
// Patient.cpp: Implementation file for class that holds a collection of 
// values specific to determining how to display data for an individual prostate
// cancer patient.
//
// author: Steve Chall, RENCI
// chief collaborator: Vorakarn Chanyavanich, Duke Medical Center
//
////////////////////////////////////////////////////////////////////////////////


#include "Patient.h"


///ctor/////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////
Patient::Patient()
	:	dataDir("."),
		number(defaultPatientNumber),
		index(-1),
		sliceMin(-1),
		sliceMax(-1),
		sliceOrientation(Z)
{
}

///ctor/////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////
Patient::Patient(int n)
	:	dataDir("."),
		number(n),
		index(-1),
		sliceMin(-1),
		sliceMax(-1),
		sliceOrientation(Z)
{
}

///dtor/////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////
Patient::~Patient()
{
}

////////////////////////////////////////////////////////////////////////////////
// 
// Currently hard-wired to a specific absolute path. 
//
// 2do: Add path select dialog (but probably not here).
//
////////////////////////////////////////////////////////////////////////////////
QString Patient::getPathToCTData()
{
	CTDataPath = dataDir + "\\CT\\Patient";

	QString numberAsString = QString(("%1")).arg(this->number, 3, 10, QLatin1Char('0'));
	CTDataPath.append(numberAsString);

	CTDataPath.append("\\Primary");

	return CTDataPath;
}

////////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
void Patient::setPathToCTData(const QString &path)
{
	CTDataPath = path;
}
	
////////////////////////////////////////////////////////////////////////////////
// 
// Currently hard-wired to a specific absolute path. 
//
// 2do: Add path select dialog (but probably not here).
//
////////////////////////////////////////////////////////////////////////////////
QString Patient::getPathToDVHData()
{
	DVHDataPath = dataDir + "\\DVH\\DVH_ORIGINAL" + QString::number(this->number);
	//DVHDataPath = dataDir + "/DVHdata/DVH";

	//QString numberAsString = QString(("%1")).arg(this->number, 3, 10, QLatin1Char('0'));
	//DVHDataPath.append(numberAsString);

	DVHDataPath.append(".txt");

	return DVHDataPath;

}

////////////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////
void Patient::setPathToDVHData(const QString &path)
{
	DVHDataPath = path;
}
	
